package com.mvc.views;

import java.util.List;
import java.util.Scanner;

import com.mvc.models.Book;
import com.mvc.models.Patient;
import com.mvc.serviceImpl.BookServiceImpl;

public class BookMain {
	static BookServiceImpl bookService =new BookServiceImpl();
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int choice;
		do {
			System.out.println("Enter your choice :");
			System.out.println("/********************************************************");
			System.out.println("1.Add Patient");
			System.out.println("2.Get all patient");
			System.out.println("3.Get Patient by Id");
			System.out.println("4.Delete Patient by id");
			System.out.println("5.Update patient");
			System.out.println("6.Exit");
			System.out.println("********************************************************/");
			choice = sc.nextInt();
			switch (choice) {
			case 1:
				addPatient(sc);
				break;
			case 2:
				getAllPatient();
				break;
			case 3:
				getPatientById(sc);
				break;
			case 4:
				deletePatientById(sc);
				break;
			case 5:
				updatePatient(sc);
				break;
			default:
				if (choice != 6) {
					System.out.println("Invalid choice!");
				}

			}
		} while (choice != 6);
		
		System.out.println("Thank you for using our system.Have a good day!");

//		addPatient(sc);
//		getAllPatient();
//		deletePatientById(sc);
//		getPatientById(sc);
//		updatePatient(sc);
	}

	public static void adBook(Scanner sc) {
	     Book b=new Book();
		System.out.println("Enter book title");
		b.setTitle(sc.nextLine());
		System.out.println("Enter ISBN of book");
		b.setISBN(sc.nextLine());
		System.out.println("Enter author of book");
	    b.setAuthor(sc.nextLine());
	    System.out.println("Enter price of book");
	    b.setPrice(sc.nextDouble());
	   bookService.addBook(b);

	}

	public static void getAllBooks() {
		List<Book> books = bookService.findAllBooks();
		if (!books.isEmpty()) {
			System.out.println("__________________________________________________");
			System.out.printf("| %4s  | %6s  | %13s | %4s |  %4s", "Id", "Title", "ISBN", "Author","Price");
			System.out.println();
			System.out.println("__________________________________________________");
			for (Book b : books) {
				System.out.printf("| %4d  | %6s  | %13s | %12d | %12f", b.getId(), b.getTitle(), b.getISBN(),
						b.getAuthor(),b.getPrice());
				System.out.println();
				System.out.println("__________________________________________________");
			}
		}
		else {
			System.out.println("Database is empty");
		}

	}

//
	public static void deleteBookById(Scanner sc) {
		System.out.println("Enter Book id");
		int id = sc.nextInt();
		bookService.deleteBookById(id);
	}

	public static void getBookById(Scanner sc) {
		System.out.println("Enter patient id");
		int id = sc.nextInt();
		Book b = bookService.getBookById(id);
		if (p == null ) {
			System.out.println("Either database is empty or such id doesn't exist in database");
		}
		else {
			
			System.out.println("Id=" + p.getId());
			System.out.println("Name=" + p.getName());
			System.out.println("Address=" + p.getAddress());
			System.out.println("Mobile no=" + p.getPhoneNumber());
		}

	}

	public static void updatePatient(Scanner sc) {
		Patient p = new Patient();
		System.out.println("Enter patient id which is to be updated");
		int id = sc.nextInt();
		System.out.println("Enter  patient's new name");
		p.setName(sc.next());
		System.out.println("Enter  patient's new address");
		p.setAddress(sc.next());
		System.out.println("Enter patient's new mobile number");
		p.setPhoneNumber(sc.nextLong());
		patientService.updatePatient(id, p);
	}


}
